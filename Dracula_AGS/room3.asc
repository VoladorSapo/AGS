// room script file

function room_FirstLoad()
{
SetBackgroundFrame(Noche);
}


function room_RepExec()
{
//Si desde el codigo global se ordena cambiar de fondo
if(NocheEnRoom){
  if(Noche==0){
  SetFadeColor(80, 40, 1);
  FadeOut(10);
  
  Noche=1;
  
  //Cambio de View
  cJonathan.ChangeView(1);
  
  SetBackgroundFrame(Noche);
  
  Wait(10);
  SetFadeColor (75, 45, 0);
  FadeIn(10);
  NocheEnRoom=false;
  }else if(Noche==1){
  SetFadeColor (75, 45, 0);
  FadeOut(10);
  
  Noche=0;
  
  //Cambio de View
  cJonathan.ChangeView(1);
  
  SetBackgroundFrame(Noche);
  
  Wait(10);
  SetFadeColor(80, 40, 1);
  FadeIn(10);
  NocheEnRoom=false;
  }

}
}

function room_Load()
{
SetBackgroundFrame(Noche);
  
}

function region1_WalksOnto()
{

}

function hPuertaCastillo_Look()
{
if(Room3Piso==1){
cJonathan.Walk(1980, 1500, eBlock);
if(PuertaCerradaRoom3){
  cJonathan.Think("¿¡Qué rayos!? ¡La puerta ya no se abre!...\nTendré que buscar otra salida");
}else{}
}
}

function room_AfterFadeIn()
{
  cCavi.Animate(2, 3, eRepeat, eNoBlock);
//Sonido para enfatizar que la puerta esta ahora bloqueada

ShakeScreen(2);

cJonathan.Think("Le falta el sonido de la puerta al cerrar");
}

function hHabitacionMeretrices_Look()
{
  if(Room3Piso==2){
if(!HechoPuzzleRoom3){
  cJonathan.Walk(790,  970,  eBlock);
  cJonathan.Think("Oigo un murmullo…");
  cJonathan.Think("…");
  cJonathan.Think("*¡JO…NA…THAN!¡JO…NATHAN!¡VEN…AQUÍ…JOHNATAN!*");
  
  cJonathan.Think("Mejor no entro ahí por el momento");
}
}
}

function hCuadroHeisenberg_Look()
{
  if(Room3Piso==2){
  cJonathan.Walk(1500,  960,  eBlock);
  cJonathan.Think("Esta persona me resulta familiar...");
//Poner sonido breaking bad de fondo
}
}

function region3_WalksOnto()
{
SetFadeColor(0, 0, 0);
FadeOut(3);
cJonathan.x=1660;
cJonathan.y=900;
FadeIn(3);
cJonathan.Walk(1640, 960, eBlock);
Room3Piso=2;
}

function region2_WalksOnto()
{
SetFadeColor(0, 0, 0);
FadeOut(3);
cJonathan.x=1325;
cJonathan.y=900;
FadeIn(3);
cJonathan.Walk(1345, 960, eBlock);
Room3Piso=2;
}

function region7_WalksOnto()
{
SetFadeColor(0, 0, 0);
FadeOut(3);
cJonathan.x=1835;
cJonathan.y=1425;
FadeIn(3);
cJonathan.Walk(1860, 1480, eBlock);
Room3Piso=1;
}

function region6_WalksOnto()
{
SetFadeColor(0, 0, 0);
FadeOut(3);
cJonathan.x=1115;
cJonathan.y=1425;
FadeIn(3);
cJonathan.Walk(1090, 1480, eBlock);
Room3Piso=1;
}

function region4_WalksOnto()
{
SetFadeColor(0, 0, 0);
FadeOut(3);
cJonathan.x=1310;
cJonathan.y=390;
FadeIn(3);
cJonathan.Walk(1330, 450, eBlock);
Room3Piso=3;
}

function region5_WalksOnto()
{
SetFadeColor(0, 0, 0);
FadeOut(3);
cJonathan.x=1105;
cJonathan.y=910;
FadeIn(3);
cJonathan.Walk(1070, 960, eBlock);
Room3Piso=2;
}

function hPiano_Look()
{
  if(Room3Piso==1){
cJonathan.Walk(980, 1530, eBlock);
cJonathan.Think("Siempre me hubiera gustado aprender a tocar uno.");
cJonathan.Think("Creo que me acuerdo de alguna pieza…");
//Luigis mansion piano
}
}

function hEstanteria_Look()
{
  if(Room3Piso==1){
cJonathan.Walk(1250,  1500,  eBlock);
cJonathan.Think("Hmmm…");
cJonathan.Think("Este libro parece estar bien cuidado.\n“Kitab Al-Azif”");
cJonathan.Think("¿Eso?…¿Eso no es uno de los libros prohibidos?");
}
}

function region8_WalksOnto()
{
  if(EsqueletoAviso==false){
cCavi.Say("¡Eh tú ven aquí!");
EsqueletoAviso=true;
  }
}

function hCuadroDracula_Look()
{
  if(Room3Piso==1){
cJonathan.Walk(1600,  1500,  eBlock); 
cJonathan.Think("Es un retrato espeluznante...");
}
}
