// room script file

function room_Load()
{
SetBackgroundFrame(ArmarioAbierto);
}

function hBalcon_Look()
{
cJonathan.Walk(400, 488, eBlock);
cJonathan.Say("El sol se oculta entre los Alpes transilvanos.");
cJonathan.Say("Se escapa entre los valles como la esperanza escapa de mi corazón.");
}

function hSacos_Look()
{
cJonathan.Walk(174, 628, eBlock);
cJonathan.Say("Pero qué resplandeciente!"); 
cJonathan.Say("Es oro, oro de todas clases."); 
cJonathan.Say("Monedas romanas, británicas, austríacas, húngaras, griegas y turcas, cubiertas de polvo, como si llevasen mucho tiempo en el suelo.");
cJonathan.Say("Y eso que brilla con tanta intensidad.");
}

function hSacos_Interact()
{
cJonathan.Walk(174, 628, eBlock);
switch(SacoUsos){
  case 2:
  cJonathan.Say("Su azul es tan puro como el mar."); 
  cJonathan.Say("Parece que dentro de la gema hay tallado el dibujo de un hermoso árbol que acaba de brotar.");  
  cJonathan.Say("Seguro que debe encajar en algún lugar."); 
  player.AddInventory(iZafiro);
  SacoUsos--;
  break;
  case 1:
  cJonathan.Say("Desprende un intenso color rojo, tan vivo como un volcán a punto de erupcionar."); 
  cJonathan.Say("PParece que dentro de la gema hay tallado el símbolo del infinito, parece latir eternamente.");  
  cJonathan.Say("Seguro que debe encajar en algún lugar."); 
  player.AddInventory(iRubi);
  SacoUsos--;
  break;
  case 0:
  cJonathan.Say("No creo que necesite más cosas del saco");
  break;
}
}
function hEngranaje1_Look(){
  player.Walk(630, 640, eBlock);
  switch(Engranaje1){
    case 0:
  cJonathan.Say("Parece que tengo que colocar algo aquí para que los engranajes comiencen a girar.");
  break;
  case 1:
  cJonathan.Say("Ya he colocado el zafiro aquí \n Falta el otro engranaje.");
  break;
  case 2:
  cJonathan.Say("Ya he colocado el rubí aquí \n Falta el otro engranaje.");
  break;
  }
}
function hEngranaje2_Look(){
  player.Walk(630, 640, eBlock);
    switch(Engranaje2){
    case 0:
  cJonathan.Say("Parece que tengo que colocar algo aquí para que los engranajes comiencen a girar.");
  break;
  case 1:
  cJonathan.Say("Ya he colocado el zafiro aquí \n Falta el otro engranaje.");
  break;
  case 2:
  cJonathan.Say("Ya he colocado el rubí aquí \n Falta el otro engranaje.");
  break;
  }

}



function hFondoArmario_WalkOn()
{
player.x = 807;
player.y = 617;
}

function hCamaDracula_Look()
{
player.Walk(400, 522, eBlock);
player.Say("Cuanto polvo,parece que nadie se ha acostado aquí en un buen tiempo.");
}

function hArmario_Look()
{
  player.Walk(630, 640, eBlock);
player.Say("Curioso, no hay polvo, \nseguramente exista algún tipo de mecanismo para abrirlo.");
}

function hEngranaje2_UseInv()
{
 player.Walk(630, 640, eBlock);
if(player.ActiveInventory == iZafiro && Engranaje2 == 0){
  player.Say("El zafiro encaja");
  player.LoseInventory(iZafiro);
  Engranaje2 = 1;
}
if(player.ActiveInventory == iRubi  && Engranaje2 == 0){
  player.Say("El rubí encaja");
  player.LoseInventory(iRubi);
  Engranaje2 = 2;
}
if(Engranaje1 != 0 && Engranaje2 != 0){
  cJonathan.Say("¡Qué peste!, pero quizás sea mi única vía de salida. \nQuizás aún exista un rayo de esperanza…");
  RestoreWalkableArea(3);
  SetBackgroundFrame(1);
}
}
function hEngranaje1_UseInv()
{
  player.Walk(630, 640, eBlock);
  player.Say("a");
if(player.ActiveInventory == iZafiro  && Engranaje1 == 0){
  player.Say("El zafiro encaja");
  player.LoseInventory(iZafiro);
  Engranaje1 = 1;
}
if(player.ActiveInventory == iRubi  && Engranaje1 == 0){
  player.Say("El rubí encaja");
  player.LoseInventory(iRubi);
  Engranaje1 = 2;
}
if(Engranaje1 != 0 && Engranaje2 != 0){
  cJonathan.Say("¡Qué peste!, pero quizás sea mi única vía de salida. \nQuizás aún exista un rayo de esperanza…");
  RestoreWalkableArea(3);
  SetBackgroundFrame(2);
}

}
